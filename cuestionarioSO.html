<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cuestionarios Sistemas Operativos</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #333;
    }
    .question {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      margin: 20px auto;
      padding: 20px;
      max-width: 800px;
    }
    .question h3 {
      margin-bottom: 10px;
    }
    label {
      display: block;
      margin-bottom: 8px;
    }
    .btn {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      background: #007BFF;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    .btn:hover {
      background: #0056b3;
    }
    .result {
      max-width: 800px;
      margin: 20px auto;
      background: #e9f7ef;
      border: 1px solid #c3e6cb;
      border-radius: 10px;
      padding: 20px;
    }
    .correct {
      color: green;
    }
    .incorrect {
      color: red;
    }
  </style>
</head>
<body>
  <h1>Cuestionario Sistemas Operativos</h1>
  <div style="max-width: 800px; margin: auto; text-align: center;">
    <label for="examSelect"><strong>Selecciona el examen:</strong></label>
    <select id="examSelect" onchange="cargarPreguntas()">
      <option value="">-- Selecciona un examen --</option>
      <option value="enero2025">Enero 2025</option>
      <option value="septiembre2024">Septiembre 2024</option>
      <option value="enero2024">Enero 2024</option>
      <option value="septiembre2023">Septiembre 2023</option>
      <option value="enero2023">Enero 2023</option>
      <option value="noviembre2022">Septiembre 2022</option>
      <option value="enero2022">Enero 2022</option>
      <option value="enero2021">Enero 2021</option>
      <option value="todos">Todos</option>

    </select>
  </div>
  <form id="quizForm"></form>
  <button class="btn" onclick="corregir()">Corregir</button>
  <div id="result" class="result" style="display:none;"></div>
  

  <script>
    const enero2025 = [
      { enunciado: "¿Cuál es la función principal de un semáforo?", opciones: ["Permitir la comunicación entre procesos mediante el envío de mensajes.", "Controlar el acceso a recursos compartidos por varios hilos.", "Implementar la exclusión mutua y la sincronización entre procesos.", "Gestionar la memoria virtual del sistema."], correcta: 2 },
      { enunciado: "En la implementación de semáforos, ¿qué ocurre cuando un proceso ejecuta la operación wait y el valor del semáforo es 0?", opciones: ["El proceso continúa su ejecución sin esperar.", "El proceso incrementa el valor del semáforo y continúa su ejecución.", "El proceso se bloquea y se añade a la cola de espera del semáforo.", "El proceso envía una señal al semáforo para que otros procesos puedan esperar."], correcta: 2 },
      { enunciado: "¿Cuál de las siguientes opciones describe mejor la paginación simple?", opciones: ["La memoria se divide en particiones de tamaño variable para los procesos.", "La memoria se divide en bloques de tamaño fijo y cada proceso se asigna a un bloque.", "La memoria se divide en marcos de tamaño fijo y los procesos se dividen en páginas del mismo tamaño.", "La memoria se asigna a los procesos en segmentos de tamaño variable."], correcta: 2 },
      { enunciado: "¿Qué función tiene la tabla de páginas en la paginación?", opciones: ["Almacena el código fuente de los programas.", "Asigna las páginas lógicas de un proceso a los marcos físicos de la memoria.", "Contiene información sobre el estado de los dispositivos de E/S.", "Gestiona la cola de procesos listos para ejecutarse."], correcta: 1 },
      { enunciado: "¿Cuál es el principal beneficio de la memoria virtual?", opciones: ["Permite ejecutar procesos más grandes que la memoria física disponible.", "Mejora la velocidad de acceso a la memoria principal.", "Reduce la fragmentación de la memoria.", "Todas las anteriores."], correcta: 3 },
      { enunciado: "¿Cuál es la función del Contador del Programa (PC) en un procesador?", opciones: ["Almacenar los datos que se están procesando.", "Almacenar la dirección de la próxima instrucción a ejecutar.", "Controlar el acceso a los dispositivos de E/S.", "Gestionar las interrupciones del sistema."], correcta: 1 },
      { enunciado: "¿Cuál de las siguientes afirmaciones sobre las interrupciones es FALSA?", opciones: ["Las interrupciones permiten que el procesador atienda eventos asíncronos.", "Las interrupciones pueden ser generadas por dispositivos de E/S.", "Las interrupciones no afectan al flujo de ejecución de un programa.", "El procesador guarda el estado actual antes de atender una interrupción."], correcta: 2 },
      { enunciado: "¿Qué característica define un sistema multiprogramado?", opciones: ["Ejecución de varios programas en diferentes procesadores.", "Mantenimiento de varios procesos en la memoria principal simultáneamente.", "Asignación de tiempo de CPU a los procesos en función de su prioridad.", "Uso de memoria virtual para ampliar la memoria principal disponible."], correcta: 1 },
      { enunciado: "¿Qué información se encuentra en un Bloque de Control de Proceso (BCP o PCB)?", opciones: ["El código fuente del proceso.", "El nombre del usuario que ejecuta el proceso.", "El estado actual del proceso y la ubicación en memoria.", "Los datos de entrada y salida del proceso."], correcta: 2 },
      { enunciado: "¿Cuál es la diferencia entre un proceso y un hilo?", opciones: ["Un proceso puede tener varios hilos, mientras que un hilo solo puede pertenecer a un proceso.", "Los hilos comparten el mismo espacio de direcciones, mientras que los procesos tienen espacios de direcciones separados.", "Los hilos son más ligeros que los procesos y su cambio de contexto es más rápido.", "Todas las anteriores."], correcta: 3 },
      { enunciado: "¿Qué tipo de hilo depende de la biblioteca de hilos del lenguaje de programación?", opciones: ["Hilo a nivel de kernel (KLT)", "Hilo a nivel de usuario (ULT)", "Hilo de demonio", "Hilo zombie"], correcta: 1 },
      { enunciado: "¿Qué es una condición de carrera?", opciones: ["Un estado en el que un proceso se bloquea esperando un recurso.", "Un error que ocurre cuando un hilo intenta acceder a una variable no inicializada.", "Una situación en la que el resultado de la ejecución de varios hilos depende del orden en que se ejecutan.", "Un problema que se produce cuando un hilo se ejecuta de forma infinita."], correcta: 2 },
      { enunciado: "¿Cuál de las siguientes opciones NO es una preocupación del sistema operativo en un entorno concurrente?", opciones: ["Seguimiento del estado de los procesos.", "Asignación y liberación de recursos para cada proceso.", "Sincronización de la ejecución de procesos para evitar condiciones de carrera.", "Compilación de código fuente en lenguaje máquina."], correcta: 3 },
      { enunciado: "¿Cuál es la diferencia entre un semáforo binario y un semáforo general?", opciones: ["Un semáforo binario solo puede tener valores 0 o 1, mientras que un semáforo general puede tener cualquier valor entero.", "Un semáforo binario se utiliza para la exclusión mutua, mientras que un semáforo general se utiliza para la sincronización.", "Un semáforo binario es más eficiente que un semáforo general.", "No hay diferencia entre un semáforo binario y un semáforo general."], correcta: 0 },
      { enunciado: "¿Cuál de las siguientes opciones describe mejor un monitor?", opciones: ["Una variable global que se utiliza para sincronizar procesos.", "Una cola de mensajes que permite la comunicación entre procesos.", "Un módulo de código que encapsula datos compartidos y métodos para acceder a ellos de forma segura.", "Una técnica de planificación del procesador que asigna tiempo de CPU a los procesos en función de su prioridad."], correcta: 2 },
      { enunciado: "¿Cuál es la diferencia entre paginación y segmentación?", opciones: ["La paginación divide la memoria en marcos de tamaño fijo, mientras que la segmentación divide la memoria en segmentos de tamaño variable.", "La paginación se utiliza para la gestión de la memoria virtual, mientras que la segmentación se utiliza para la protección de la memoria.", "La paginación es más eficiente que la segmentación.", "No hay diferencia entre paginación y segmentación."], correcta: 0 },
      { enunciado: "¿Qué es la fragmentación interna?", opciones: ["Espacio desperdiciado en el disco debido a la asignación de bloques no contiguos.", "Espacio desperdiciado dentro de un marco de página porque el tamaño del proceso no es un múltiplo del tamaño de página.", "Espacio desperdiciado en la memoria principal debido a la segmentación.", "Espacio desperdiciado en la memoria caché debido a la proximidad de referencias."], correcta: 1 },
      { enunciado: "¿Qué ocurre cuando un proceso intenta acceder a una página que no está en la memoria principal?", opciones: ["El proceso se bloquea y espera a que la página se cargue en memoria.", "Se produce un error de segmentación y el proceso se termina.", "El sistema operativo busca la página en el disco y la copia en la memoria caché.", "El proceso continúa su ejecución ignorando la falta de la página."], correcta: 0 },
      { enunciado: "¿Qué estructura de datos se utiliza para acelerar la traducción de direcciones virtuales a físicas en la memoria virtual?", opciones: ["Tabla de páginas", "TLB (Translation Lookaside Buffer)", "Caché de datos", "Pila del sistema"], correcta: 1 },
      { enunciado: "¿Qué tipo de planificador decide qué proceso obtiene la CPU después de cada cambio de contexto?", opciones: ["Planificador de corto plazo", "Planificador de largo plazo", "Planificador de medio plazo", "Planificador de entrada/salida"], correcta: 0 },
      { enunciado: "En la administración de memoria, el principio de localización espacial implica:", opciones: ["Acceso frecuente a datos cercanos en memoria.", "Acceso frecuente a datos temporalmente próximos.", "Acceso aleatorio a bloques de memoria.", "Acceso secuencial a bloques de memoria."], correcta: 0 },
      { enunciado: "¿Cuál es una característica de la política de reemplazo de páginas de LRU?", opciones: ["Remueve la página menos recientemente usada.", "Utiliza un bit de referencia.", "Elige una página aleatoria para reemplazar.", "Remueve la página más recientemente usada."], correcta: 0 },
      { enunciado: "¿Cuál es una característica clave del direccionamiento uno a muchos (broadcast) en el paso de mensajes?", opciones: ["Solo un proceso puede recibir el mensaje enviado.", "El mensaje se envía a un proceso receptor específico y único.", "Varios procesos pueden recibir el mismo mensaje desde un canal compartido.", "El mensaje se envía a múltiples destinatarios, pero cada uno recibe una copia única del mensaje."], correcta: 2 },
      { enunciado: "¿Cuál es una característica de la E/S asincrónica?", opciones: ["El CPU espera a que finalice cada operación.", "La operación de E/S no bloquea el proceso.", "Se utiliza en sistemas sin multitarea.", "Permite la ejecución secuencial de operaciones de E/S."], correcta: 1 },
      { enunciado: "En un sistema multiprocesador", opciones: ["Solo pueden ejecutarse hilos del mismo proceso concurrentemente.", "Varios hilos de un mismo proceso se pueden ejecutar simultáneamente.", "Se pueden ejecutar varios hilos pero en el procesador asignado al proceso.", "Ninguna de las anteriores es correcta."], correcta: 1 },
      { enunciado: "¿Cuál es una ventaja del paso de mensajes en comparación con los semáforos y monitores?", opciones: ["Mayor eficiencia en sistemas de memoria compartida.", "Comunicación explícita entre procesos.", "Menor complejidad de implementación.", "Flexibilidad en la sincronización."], correcta: 1 },
      { enunciado: "Cuando quiero eliminar líneas duplicadas en un fichero de texto en Linux, ¿por qué es importante ordenar las líneas del archivo temporal antes de utilizar el comando uniq?", opciones: ["Para optimizar el rendimiento del script y reducir el tiempo de ejecución.", "Para asegurar que el archivo de salida tenga el mismo orden que los archivos de entrada.", "Para que el comando uniq pueda detectar y eliminar todas las líneas duplicadas, incluso si no son consecutivas.", "Para evitar errores de sintaxis en el script."], correcta: 2 },
      { enunciado: "¿Cuál es la función del comando RANDOM % 100 en un script Bash?", opciones: ["Generar un número aleatorio entre 0 y 100, incluyendo ambos extremos.", "Calcular el resto de la división del valor de la variable RANDOM entre 100.", "Asignar un valor aleatorio a la variable RANDOM, comprendido entre 0 y 99.", "Generar un número aleatorio entre 0 y 99."], correcta: 3 },
      { enunciado: "¿Cuál es la función de la función pthread_join en el contexto del siguiente código?", opciones: ["Crear un nuevo hilo para procesar un archivo.", "Esperar a que un hilo específico termine su ejecución.", "Asignar un nombre de archivo a un hilo.", "Unir todos los hilos de ejecución en uno solo."], correcta: 1 },
      { enunciado: "¿Cuál de las siguientes opciones describe correctamente la función principal de un pipe en Linux?", opciones: ["Permite la comunicación entre procesos mediante la creación de un archivo temporal.", "Es un mecanismo de sincronización entre hilos de un mismo proceso.", "Proporciona una conexión unidireccional para transmitir datos entre procesos.", "Sirve para redirigir la salida estándar de un comando a un archivo."], correcta: 2 },
      { enunciado: "Respecto al uso de strtok en un contexto multihilo, ¿cuál es el principal inconveniente?", opciones: ["strtok no es una función reentrante, lo que puede llevar a resultados inesperados en un entorno multihilo.", "strtok es demasiado lenta para ser utilizada en aplicaciones multihilo.", "strtok solo puede ser utilizada con cadenas de caracteres ASCII, lo que limita su uso en entornos multibyte.", "strtok modifica la cadena original, lo que puede causar problemas si se accede a la cadena desde múltiples hilos simultáneamente."], correcta: 0 },
      { enunciado: "¿Qué efecto tiene pthread_cond_wait sobre condPlato en el bucle while? ", opciones: ["Si el mutex está bloqueado pone la variable condPlato a false.", "Si no se cumple la condición del while y el mutex está bloqueado se pone a true condPlato.", "Si entra en el while el hilo se bloquea en la variable de condición, liberando el mutex simultáneamente hasta que otro proceso haga pthread_cond_signal.", "Si entra en el while el hilo se bloquea en la variable de condición gracias a que el mutex está bloqueado, hasta que otro proceso haga pthread_mutex_unlock(&mutex)."], correcta: 2 }
    ];
    
    const septiembre2024 = [
      { enunciado: "¿Cuál de las siguientes afirmaciones describe mejor la relación entre OpenMP y los hilos a nivel de usuario (ULT)?", opciones: ["OpenMP utiliza hilos a nivel de kernel (KLT) para la paralelización en sistemas distribuidos.", "OpenMP no utiliza hilos, sino procesos separados en sistemas distribuidos.", "OpenMP utiliza hilos a nivel de usuario (ULT) para la paralelización en sistemas de memoria compartida.", "OpenMP se enfoca en la comunicación entre procesos en sistemas de memoria distribuida."], correcta: 2 },
      { enunciado: "¿Cuál de las siguientes afirmaciones describe correctamente el proceso de traducción de direcciones en un sistema de paginación simple sin memoria virtual?", opciones: ["Las direcciones lógicas se traducen directamente en direcciones físicas sin necesidad de una tabla de páginas.", "Las direcciones lógicas se dividen en segmentos y se traducen a direcciones físicas mediante una tabla de segmentos.", "Las direcciones lógicas se dividen en páginas, que se asignan a marcos de página en la memoria física utilizando una tabla de páginas.", "Las direcciones lógicas se traducen a direcciones físicas utilizando un algoritmo de reemplazo de páginas."], correcta: 2 },
      { enunciado: "¿Cuál es una característica clave del direccionamiento uno a muchos (broadcast) en el paso de mensajes?", opciones: ["Solo un proceso puede recibir el mensaje enviado.", "El mensaje se envía a un proceso receptor específico y único.", "Varios procesos pueden recibir el mismo mensaje desde un canal compartido.", "El mensaje se envía a múltiples destinatarios, pero cada uno recibe una copia única del mensaje."], correcta: 2 },
      { enunciado: "¿Cuál de las siguientes es una ventaja de los monitores sobre los semáforos?", opciones: ["Los monitores requieren manejo manual de la exclusión mutua.", "Los monitores permiten la exclusión mutua implícita, simplificando la programación concurrente.", "Los monitores son menos seguros y propensos a errores comparados con los semáforos.", "Los monitores son más flexibles que los semáforos para cualquier problema de sincronización."], correcta: 1 },
      { enunciado: "¿Cuál es una ventaja de utilizar la función intercambiar() o swap() para la exclusión mutua en sistemas multiprocesador?", opciones: ["Requiere intervención manual para cada operación.", "Asegura que las operaciones se realicen de forma indivisible y eficiente en un entorno concurrente.", "No garantiza la exclusión mutua y depende del programador manejar las condiciones de carrera.", "Es más sencilla de implementar que cualquier otra técnica de sincronización."], correcta: 1 },
      { enunciado: "¿Cuándo es más recomendable utilizar procesos en lugar de hilos en una aplicación?", opciones: ["Cuando se requiere un alto grado de aislamiento y seguridad entre unidades de ejecución.", "Cuando las tareas son altamente dependientes y requieren comunicación constante.", "Cuando la aplicación necesita maximizar la velocidad de cambio de contexto.", "Cuando se necesita acceso compartido a la misma memoria por todos los hilos."], correcta: 0 },
      { enunciado: "¿Cuál de los siguientes componentes es comúnmente encontrado en cada entrada de la tabla de páginas en un sistema de memoria virtual?", opciones: ["El número de página lógica y su dirección de memoria secundaria.", "El número de marco de página (frame number) y bits de control.", "La dirección física completa y el tamaño de la página.", "La dirección lógica y el número de páginas en memoria."], correcta: 1 },
      { enunciado: "La fragmentación interna", opciones: ["Se produce con paginación y con segmentación.", "Solo se produce en el último segmento de la tabla de segmentos del proceso", "Se produce sólo cuando tenemos un sistema de memoria con paginación o particiones estáticas", "Ninguna las anteriores es correcta."], correcta: 2 },
      { enunciado: "Un hilo", opciones: ["Es un procedimiento de un proceso que tiene asignado recursos.", "Es la unidad propietaria de los recursos", "Comparte la pila de ejecución con los otros hilos.", "Ninguna de las anteriores es cierta."], correcta: 3 },
      { enunciado: "En un sistema multiprocesador", opciones: ["Solo pueden ejecutarse hilos del mismo proceso concurrentemente.", "Varios hilos de un mismo proceso se pueden ejecutar simultáneamente.", "Se pueden ejecutar varios hilos pero en el procesador asignado al proceso.", "Ninguna de las anteriores es correcta"], correcta: 1 },
      { enunciado: "¿Cuál de las siguientes afirmaciones NO es correcta?", opciones: ["Los semáforos solucionan el problema de la espera activa", "Los semáforos solucionan el problema de la exclusión mutua y la sincronización", "Los semáforos binarios sólo pueden ser usados simultáneamente por dos procesos", "Los semáforos de cuenta pueden ser usados simultáneamente por cualquier número de procesos."], correcta: 2 },
      { enunciado: "En Linux, la llamada al sistema exec():", opciones: ["Crea un nuevo proceso con la misma imagen del proceso actual y con un PID diferente.", "Cambia la imagen (código) del proceso actual y le asigna un nuevo PID.", "Carga una nueva imagen de código en la memoria del proceso actual.", "Ejecuta el proceso hijo indicado en el parámetro de la llamada."], correcta: 2 },
      { enunciado: "¿Cómo se maneja el núcleo del sistema operativo en relación con los procesos de usuario?", opciones: ["El núcleo se ejecuta en un espacio de direcciones separado de todos los procesos de usuario y no interactúa con ellos directamente.", "El núcleo se ejecuta dentro del espacio de direcciones de un proceso de usuario específico como una biblioteca compartida.", "El núcleo se ejecuta como un proceso especial conocido como 'proceso cero' o 'proceso del sistema', interactuando con otros procesos del sistema mediante IPC.", "El núcleo se ejecuta como un módulo cargado en el espacio de direcciones de un proceso de usuario, permitiendo la personalización del sistema operativo."], correcta: 2 },
      { enunciado: "¿Cuál es la misión del planificador de largo plazo o planificador de alto nivel?", opciones: ["Realizar el despacho de los procesos que están en la cola de preparados.", "Realizar una planificación previa de la carga de trabajo que se va a enviar al sistema.", "Regular la admisión de nuevos procesos a la cola de preparados.", "Permitir la entrada de procesos en el sistema con un instante de ejecución posterior en el tiempo."], correcta: 2 },
      { enunciado: "¿Cuál de estos algoritmos de reemplazo de páginas se apoya en el bit de referencia?", opciones: ["FIFO.", "OPT.", "SJF.", "Algoritmo del reloj / segunda oportunidad."], correcta: 3 },
      { enunciado: "La TLB es una estructura usada para:", opciones: ["Reducir el tiempo de la traducción de direcciones de memoria.", "Almacenar el estado de un proceso cuando ocurre un cambio de contexto.", "Almacenar el estado de las páginas no válidas de un proceso.", "Almacenar los punteros a las pilas de los procesos"], correcta: 0 },
      { enunciado: "El controlador de E/S y la memoria intercambian datos directamente, sin la intervención de la CPU, cuando se tiene:", opciones: ["E/S controlada por programa", "E/S por interrupciones", "DMA", "Ninguna de las anteriores"], correcta: 2 },
      { enunciado: "¿Cuál de las siguientes métricas es especialmente relevante en sistemas interactivos?", opciones: ["Throughput (Rendimiento)", "Tiempo de Respuesta Promedio", "Inanición (Starvation)", "Criterios de Justicia (Fairness)"], correcta: 1 },
      { enunciado: "En el esquema de segmentación, ¿qué información contiene la tabla de descriptores de segmento?", opciones: ["Dirección física completa de cada segmento.", "Tamaño y dirección base de cada segmento.", "Nombres y tamaños de los segmentos.", "Números de página y desplazamientos."], correcta: 1 },
      { enunciado: "¿Cuál es una ventaja del paso de mensajes en comparación con los semáforos y monitores?", opciones: ["Mayor eficiencia en sistemas de memoria compartida.", "Comunicación explícita entre procesos.", "Menor complejidad de implementación.", "Flexibilidad en la sincronización."], correcta: 1 }
    ];

    const enero2024 = [
      { enunciado: "Sea el siguiente programa, indicar qué respuesta es falsa", opciones: ["Se pueden presentar interbloqueos.", "La ejecución del programa podrá dar como resultado la impresión de un 4", "La ejecución del programa podrá dar como resultado la impresión de un 1", "La ejecución del programa podrá dar como resultado la impresión de un 2"], correcta:0 },
      { enunciado: "La fragmentación interna", opciones: ["Se produce con paginación y con segmentación.", "Solo se produce en el último segmento de la tabla de segmentos del proceso", "Se produce sólo cuando tenemos un sistema de memoria con paginación o particiones estáticas", "Ninguna las anteriores es correcta."], correcta: 2 },
      { enunciado: "Un hilo", opciones: ["Es un procedimiento de un proceso que tiene asignado recursos.", "Es la unidad propietaria de los recursos", "Comparte la pila de ejecución con los otros hilos.", "Ninguna de las anteriores es cierta."], correcta: 3 },
      { enunciado: "Los monitores proporcionan exclusión mutua porque:", opciones: ["Sólo un proceso puede estar activo cada vez para ejecutar un procedimiento del monitor", "Utilizan variables de condición", "No proporcionan exclusión mutua sólo garantizan la sincronización", "Se diseñan como procedimientos encapsulados en un módulo"], correcta: 0 },
      { enunciado: "En un sistema multiprocesador", opciones: ["Solo pueden ejecutarse hilos del mismo proceso concurrentemente.", "Varios hilos de un mismo proceso se pueden ejecutar simultáneamente.", "Se pueden ejecutar varios hilos pero en el procesador asignado al proceso.", "Ninguna de las anteriores es correcta"], correcta: 1 },
      { enunciado: "¿Cuál de las siguientes afirmaciones NO es correcta?", opciones: ["Los semáforos solucionan el problema de la espera activa", "Los semáforos solucionan el problema de la exclusión mutua y la sincronización", "Los semáforos binarios sólo pueden ser usados simultáneamente por dos procesos", "Los semáforos de cuenta pueden ser usados simultáneamente por cualquier número de procesos."], correcta: 2 },
      { enunciado: "En Linux, la llamada al sistema exec():", opciones: ["Crea un nuevo proceso con la misma imagen del proceso actual y con un PID diferente.", "Cambia la imagen (código) del proceso actual y le asigna un nuevo PID.", "Carga una nueva imagen de código en la memoria del proceso actual.", "Ejecuta el proceso hijo indicado en el parámetro de la llamada."], correcta: 2 },
      { enunciado: "¿Cuál es la misión del planificador de largo plazo o planificador de alto nivel?", opciones: ["Realizar el despacho de los procesos que están en la cola de preparados.", "Realizar una planificación previa de la carga de trabajo que se va a enviar al sistema.", "Regular la admisión de nuevos procesos a la cola de preparados.", "Permitir la entrada de procesos en el sistema con un instante de ejecución posterior en el tiempo."], correcta: 2 },
      { enunciado: "Si en un algoritmo Round Robin el cuanto de tiempo Q se hace excesivamente corto:", opciones: ["El algoritmo degenera en un SJF.", "El algoritmo degenera en un FCFS.", "Disminuye la productividad del procesador porque se realizan muchos cambios de contexto.", "Aumenta el impacto del efecto convoy si existe una combinación de procesos de larga y de corta duración."], correcta: 2 },
      { enunciado: "¿Cuál de estos algoritmos de reemplazo de páginas se apoya en el bit de referencia?", opciones: ["FIFO.", "OPT.", "SJF.", "Algoritmo del reloj / segunda oportunidad."], correcta: 3 },
      { enunciado: "La TLB es una estructura usada para:", opciones: ["Reducir el tiempo de la traducción de direcciones de memoria.", "Almacenar el estado de un proceso cuando ocurre un cambio de contexto.", "Almacenar el estado de las páginas no válidas de un proceso.", "Almacenar los punteros a las pilas de los procesos"], correcta: 0 },
      { enunciado: "¿Cuál es la diferencia entre un proceso «pesado» y un hilo (thread)?", opciones: ["Un proceso pesado es una aplicación en ejecución, mientras que un hilo es una actividad concurrente dentro de una aplicación.", "Un proceso pesado puede contener un hilo o ninguno, mientras que un hilo puede contener uno o más procesos pesados.", "Un proceso pesado corre siempre en modo usuario, mientras que un hilo puede correr en modo usuario o modo núcleo.", "Un hilo puede pertenecer a varios procesos pero un proceso a un único hilo."], correcta: 0 },
      { enunciado: "El controlador de E/S y la memoria intercambian datos directamente, sin la intervención de la CPU, cuando se tiene:", opciones: ["E/S controlada por programa", "E/S por interrupciones", "DMA", "Ninguna de las anteriores"], correcta: 2 },
      { enunciado: "En el enfoque 'Núcleo Fuera de Todo Proceso', ¿cómo interactúan los procesos de usuario con el núcleo del sistema operativo?", opciones: ["A través de comunicación interprocesos (IPC).", "Comparten el espacio de direcciones con el núcleo.", "Por medio de llamadas al sistema y solicitudes de servicios.", "Ejecutando el núcleo como una biblioteca compartida."], correcta: 2 },
      { enunciado: "¿Qué representa el valor del contador en la implementación interna de un semáforo en un sistema operativo?", opciones: ["El número total de hilos en espera.", "La cantidad de recursos gestionados por el semáforo.", "El tiempo transcurrido desde la última operación 'V' (Despertar).", "La prioridad asignada a los procesos en la cola de espera."], correcta: 1 },
      { enunciado: "¿Cuál de las siguientes métricas es especialmente relevante en sistemas interactivos y afecta la percepción de la velocidad del sistema por parte del usuario?", opciones: ["Throughput (Rendimiento)", "Tiempo de Respuesta Promedio", "Inanición (Starvation)", "Criterios de Justicia (Fairness)"], correcta: 1 },
      { enunciado: "En el esquema de segmentación, ¿qué información contiene la tabla de descriptores de segmento?", opciones: ["Dirección física completa de cada segmento.", "Tamaño y dirección base de cada segmento.", "Nombres y tamaños de los segmentos.", "Números de página y desplazamientos."], correcta: 1 },
      { enunciado: "¿Cuál es una ventaja del paso de mensajes en comparación con los semáforos y monitores?", opciones: ["Mayor eficiencia en sistemas de memoria compartida.", "Comunicación explícita entre procesos.", "Menor complejidad de implementación.", "Flexibilidad en la sincronización."], correcta: 1 },
      { enunciado: "¿Qué función cumple el número de marco de página en una entrada típica de la tabla de páginas en un sistema de memoria virtual?", opciones: ["Indica la dirección lógica de la página.", "Representa el desplazamiento dentro de la página.", "Es un índice directo a la ubicación física de la página.", "Define los permisos de acceso a la página."], correcta: 2 },
      { enunciado: "¿Qué implica el concepto de reubicación en la gestión de memoria?", opciones: ["La capacidad de cargar varios procesos en la memoria principal simultáneamente.", "Ajustar las direcciones de memoria de un programa para ejecutarse en diferentes ubicaciones de memoria.", "La asignación de espacio de direcciones fijo para cada proceso.", "La carga dinámica de programas en tiempo de ejecución."], correcta: 1 }
    ];

    const septiembre2023 = [
    { enunciado: "Sea el siguiente programa, indicar que respuesta es falsa", opciones: ["Se pueden presentar interbloqueos.", "La ejecución del programa podrá dar como resultado la impresión de un 4", "La ejecución del programa podrá dar como resultado la impresión de un 1", "La ejecución del programa podrá dar como resultado la impresión de un 2"], correcta: 0 },
    { enunciado: "El problema de esta solución software a la exclusión mutua es", opciones: ["Se produce un interbloqueo independientemente de la velocidad relativa de los procesos", "Se produce un interbloqueo en función de la velocidad relativa de los procesos", "No se garantiza la exclusión mutua", "Rompe la alternancia en la ejecución de los procesos"], correcta: 1 },
    { enunciado: "¿Qué política de asignación se está utilizando si ante una solicitud de 13 KB se usa un hueco de 17 KB?", opciones: ["Ninguna del resto de las respuestas es correcta.", "Mejor ajuste.", "Primer ajuste.", "Peor ajuste."], correcta: 3 },
    { enunciado: "La fragmentación interna", opciones: ["Se produce con paginación y con segmentación.", "Solo se produce en el último segmento de la tabla de segmentos del proceso", "Se produce sólo cuando tenemos un sistema de memoria con paginación o particiones estáticas", "Ninguna las anteriores es correcta."], correcta: 2 },
    { enunciado: "Para permitir un mayor grado de multiprogramación", opciones: ["Es preferible un sistema con un tamaño de página grande", "El tamaño de página es indiferente.", "Es mejor optar por páginas de un tamaño pequeño.", "Ninguna del resto de las respuestas es correcta."], correcta: 2 },
    { enunciado: "El planificador (scheduler) es la parte del sistema operativo encargada de:", opciones: ["Realizar el cambio de contexto entre los procesos.", "Determinar el orden de ejecución entre los procesos", "Mantener la tabla de procesos", "Descargar los procesos a disco cuando la memoria del sistema escasea."], correcta: 1 },
    { enunciado: "¿Cuándo puede un proceso entrar en un monitor?", opciones: ["Sólo cuando tiene definidas variables de condición.", "Sólo es necesario que el monitor se encuentre vacío.", "Hace falta que el monitor esté vacío y no haya procesos esperando en ninguna cola de condición.", "Ninguna del resto de las contestaciones es correcta."], correcta: 1 },
    { enunciado: "Un hilo", opciones: ["Es un procedimiento de un proceso que tiene asignado recursos.", "Es la unidad propietaria de los recursos", "Comparte la pila de ejecución con los otros hilos.", "Ninguna de las anteriores es cierta."], correcta: 3 },
    { enunciado: "Los monitores proporcionan exclusión mutua porque:", opciones: ["Sólo un proceso puede estar activo cada vez para ejecutar un procedimiento del monitor", "Utilizan variables de condición", "No proporcionan exclusión mutua sólo garantizan la sincronización", "Se diseñan como procedimientos encapsulados en un módulo"], correcta: 0 },
    { enunciado: "En un sistema multiprocesador", opciones: ["Solo pueden ejecutarse hilos del mismo proceso concurrentemente.", "Varios hilos de un mismo proceso se pueden ejecutar simultáneamente.", "Se pueden ejecutar varios hilos pero en el procesador asignado al proceso.", "Ninguna de las anteriores es correcta"], correcta: 1 },
    { enunciado: "¿Cuál de las siguientes afirmaciones NO es correcta?", opciones: ["Los semáforos solucionan el problema de la espera activa", "Los semáforos solucionan el problema de la exclusión mutua y la sincronización", "Los semáforos binarios sólo pueden ser usados simultáneamente por dos procesos", "Los semáforos de cuenta pueden ser usados simultáneamente por cualquier número de procesos."], correcta: 2 },
    { enunciado: "La operación wait de un semáforo y la cwait de una variable de condición se diferencian en:", opciones: ["cwait siempre suspende el proceso y wait no siempre", "En la variable de condición no se elimina la espera activa", "No existe diferencia, ambos sirven para exclusión mutua", "No existe diferencia, ambos son sincronización"], correcta: 0 },
    { enunciado: "¿Qué permiten los métodos de planificación multicolas?", opciones: ["Especialmente indicados para entornos multiprocesadores.", "Aplicar políticas distintas a diferentes clases de procesos.", "Evitar que procesos largos monopolicen la CPU.", "Los procesos siempre pasan de una cola a otra."], correcta: 1 },
    { enunciado: "En Linux, la llamada exec():", opciones: ["Crea un nuevo proceso con nueva imagen y PID distinto", "Cambia imagen del proceso actual y le asigna nuevo PID", "Carga nueva imagen en memoria del proceso actual", "Ejecuta el proceso hijo del parámetro"], correcta: 1 },
    { enunciado: "¿Cuál es la misión del planificador de largo plazo?", opciones: ["Despachar procesos preparados", "Planificar la carga en sistemas tiempo real", "Regular la admisión de nuevos procesos", "Permitir entrada con instante posterior"], correcta: 2 },
    { enunciado: "En Round Robin, ¿qué hace el sistema de interrupciones?", opciones: ["Recibe señal del temporizador", "Crea el BCP", "Actualiza estadísticas de consumo", "Realiza el dispatch"], correcta: 0 },
    { enunciado: "¿Qué proceso estará en la CPU dentro de 3 ms si llega otro en 2 ms?", opciones: ["SJF no expulsivo: Q", "SJF expulsivo: Q", "FCFS: Q", "FCFS expulsivo: Q"], correcta: 1 },
    { enunciado: "¿Qué ocurre tras una interrupción de E/S durante la ejecución de un proceso?", opciones: ["Cambia a modo kernel y ejecuta rutina", "Cambia a modo usuario", "Se atiende en el mismo modo", "No se puede interrumpir en quantum"], correcta: 0 },
    { enunciado: "En Round Robin con Q muy corto:", opciones: ["Degenera en SJF", "Degenera en FCFS", "Baja productividad por cambios de contexto", "Efecto convoy aumenta"], correcta: 2 },
    { enunciado: "Si asignamos menos páginas que el conjunto de trabajo:", opciones: ["Más cambios de contexto", "Disminuye tabla de páginas", "No se puede ejecutar", "Fallos de página continuos"], correcta: 3 },
    { enunciado: "¿Qué algoritmo de reemplazo usa bit de referencia?", opciones: ["FIFO", "OPT", "SJF", "Reloj / segunda oportunidad"], correcta: 3 },
    { enunciado: "Tamaño máx. de un segmento si direcciones lógicas de 32 bits y 64 segmentos:", opciones: ["16 MB", "64 MB", "1 MB", "8 MB"], correcta: 1 },
    { enunciado: "¿Qué es la MMU?", opciones: ["Hardware que traduce direcciones lógicas a físicas", "Detecta accesos indebidos", "Resuelve fallos de página", "Gestiona swap y memoria"], correcta: 0 },
    { enunciado: "¿Para qué se usa la TLB?", opciones: ["Reducir tiempo de traducción de direcciones", "Guardar estado de proceso", "Guardar páginas inválidas", "Punteros a pilas"], correcta: 0 },
    { enunciado: "Proceso necesita 2000 bytes y páginas de 512. ¿Fragmentación interna?", opciones: ["464 bytes externa", "48 bytes externa", "48 bytes interna", "64 bytes interna"], correcta: 2 },
    { enunciado: "¿Cuántas páginas puede manejar un proceso si página=16KB y direcc. lógica=32 bits?", opciones: ["218", "224", "216", "212"], correcta: 2 },
    { enunciado: "¿Cuántas tablas de páginas hay con procesos pesados e hilos?", opciones: ["Una multientrada", "Una por proceso pesado", "Una por hilo", "Una por cada proceso+hilo"], correcta: 1 },
    { enunciado: "¿Qué tiene de especial test-and-set?", opciones: ["Se ejecuta de forma atómica", "Sólo funciona en multiprocesadores", "Ejecuta dos acciones a la vez", "Test y set tras interrupción"], correcta: 0 },
    { enunciado: "Dos hilos hacen x=x+1 y x=x-1 sobre x=1. ¿Valor final?", opciones: ["1", "0, 1 o 2", "0 o 2", "0"], correcta: 1 },
    { enunciado: "¿Problema de la espera activa?", opciones: ["Uso improductivo del procesador", "No resuelve bien sincronización", "No funciona en multiprocesadores", "Requiere activación del S.O."], correcta: 0 },
    { enunciado: "¿Qué algoritmo genera más cambios de contexto en una situación con 3 procesos?", opciones: ["FCFS", "RR con Q=2", "SJF expulsivo", "RR con Q=8"], correcta: 1 },
    { enunciado: "¿Diferencia entre proceso pesado y hilo?", opciones: ["Proceso = aplicación, hilo = actividad concurrente", "Proceso puede contener hilo, hilo contiene procesos", "Proceso en modo usuario, hilo en ambos", "Hilo pertenece a varios procesos"], correcta: 0 },
    { enunciado: "¿Qué necesita la protección basada en registros base y límite?", opciones: ["Temporizador software", "Procesador con modos user/kernel", "Jerarquía de memoria", "Controlador de interrupciones"], correcta: 1 },
    { enunciado: "¿Qué pasa con el núcleo del S.O.?", opciones: ["Siempre cargado en memoria principal", "Contiene programas del sistema", "Depende del número de procesos", "Virtualiza interfaces del S.O."], correcta: 0 },
    { enunciado: "¿Puede el hardware activar al sistema operativo?", opciones: ["Sí, por ejemplo, con interrupción", "No, solo mediante software", "No, requiere TRAP", "No, todo pasa por el núcleo"], correcta: 0 },
    { enunciado: "Si hubiera memoria infinita, ¿qué dejaría de tener sentido?", opciones: ["Gestión de zonas libres/ocupadas", "Protección del área del proceso", "Protección del S.O.", "Memoria virtual paginada"], correcta: 3 },
    { enunciado: "¿Qué algoritmo de planificación NO puede ser expulsivo?", opciones: ["FCFS", "Round Robin", "SJF", "SJF con prioridades"], correcta: 0 },
    { enunciado: "Round Robin con quantum=10. P1=25ms, P2=30ms. ¿Tiempo de retorno de P2?", opciones: ["45 ms", "55 ms", "60 ms", "70 ms"], correcta: 0 },
    { enunciado: "¿Cuándo se intercambian datos entre memoria y E/S sin la CPU?", opciones: ["E/S por programa", "E/S por interrupciones", "DMA", "Ninguna"], correcta: 2 },
    { enunciado: "¿Cómo se logra la sincronización en un monitor?", opciones: ["Es implícita, basta invocar procedimiento", "Cola por procedimiento", "Una única cola para todos", "Mediante variables de condición"], correcta: 3 }
  ];
  
  const enero2023 = [
  { enunciado: "Sea el siguiente programa, indicar que respuesta es falsa", opciones: ["Se pueden presentar interbloqueos.", "La ejecución del programa podrá dar como resultado la impresión de un 4", "La ejecución del programa podrá dar como resultado la impresión de un 1", "La ejecución del programa podrá dar como resultado la impresión de un 2"], correcta: 0 },
  { enunciado: "El problema de esta solución software a la exclusión mutua es", opciones: ["Se produce un interbloqueo independientemente de la velocidad relativa de los procesos", "Se produce un interbloqueo en función de la velocidad relativa de los procesos", "No se garantiza la exclusión mutua", "Rompe la alternancia en la ejecución de los procesos"], correcta: 1 },
  { enunciado: "¿Qué política de asignación se está utilizando si ante una solicitud de 13 KB se usa un hueco de 17 KB?", opciones: ["Ninguna del resto de las respuestas es correcta.", "Mejor ajuste.", "Primer ajuste.", "Peor ajuste."], correcta: 3 },
  { enunciado: "La fragmentación interna", opciones: ["Se produce con paginación y con segmentación.", "Solo se produce en el último segmento de la tabla de segmentos del proceso", "Se produce sólo cuando tenemos un sistema de memoria con paginación o particiones estáticas", "Ninguna las anteriores es correcta."], correcta: 2 },
  { enunciado: "Para permitir un mayor grado de multiprogramación", opciones: ["Es preferible un sistema con un tamaño de página grande", "El tamaño de página es indiferente.", "Es mejor optar por páginas de un tamaño pequeño.", "Ninguna del resto de las respuestas es correcta."], correcta: 2 },
  { enunciado: "Un hilo", opciones: ["Es un procedimiento de un proceso que tiene asignado recursos.", "Es la unidad propietaria de los recursos", "Comparte la pila de ejecución con los otros hilos.", "Ninguna de las anteriores es cierta."], correcta: 0 },
  { enunciado: "Los monitores proporcionan exclusión mutua porque:", opciones: ["Sólo un proceso puede estar activo cada vez para ejecutar un procedimiento del monitor", "Utilizan variables de condición", "No proporcionan exclusión mutua sólo garantizan la sincronización", "Se diseñan como procedimientos encapsulados en un módulo"], correcta: 0 },
  { enunciado: "En un sistema multiprocesador", opciones: ["Solo pueden ejecutarse hilos del mismo proceso concurrentemente.", "Varios hilos de un mismo proceso se pueden ejecutar simultáneamente.", "Se pueden ejecutar varios hilos pero en el procesador asignado al proceso.", "Ninguna de las anteriores es correcta"], correcta: 1 },
  { enunciado: "¿Cuál de las siguientes afirmaciones NO es correcta?", opciones: ["Los semáforos solucionan el problema de la espera activa", "Los semáforos solucionan el problema de la exclusión mutua y la sincronización", "Los semáforos binarios sólo pueden ser usados simultáneamente por dos procesos", "Los semáforos de cuenta pueden ser usados simultáneamente por cualquier número de procesos."], correcta: 3 },
  { enunciado: "La operación wait de un semáforo y la cwait de una variable de condición se diferencian en:", opciones: ["cwait siempre suspende el proceso y wait no siempre", "En la variable de condición no se elimina la espera activa", "No existe diferencia, ambos sirven para exclusión mutua", "No existe diferencia, ambos son sincronización"], correcta: 0 }
];

const noviembre2022 = [
  { enunciado: "En el bloque de control de procesos", opciones: ["Existe información para la planificación de la CPU", "No existe información para la planificación de la CPU, esta se almacena en el Planificador.", "La única información de planificación existente son los punteros a las colas de planificación.", "Ninguna de las anteriores es correcta."], correcta: 0 },
  { enunciado: "Un proceso abandona el estado de ejecución y pasa directamente al de listo para ejecución", opciones: ["Ninguna del resto de las respuestas es correcta.", "Sólo cuando el proceso ha ejecutado una operación 'sleep'.", "Necesariamente se utiliza una política de planificación preemtiva.", "Únicamente en políticas de planificación no preemtivas"], correcta: 0 },
  { enunciado: "Cuando un proceso está en el estado 'Nuevo'", opciones: ["Su código, datos y PCB ya están cargados en memoria.", "Solo su código y datos están en memoria principal.", "El PCB existe pero ni datos ni código están en memoria.", "Solo el PCB y el código están cargados en memoria, los datos se cargan al entrar a listo."], correcta: 2 },
  { enunciado: "Para permitir un mayor grado de multiprogramación", opciones: ["Es preferible un sistema con un tamaño de página grande.", "El tamaño de página es indiferente.", "Es mejor optar por páginas de un tamaño pequeño.", "Ninguna del resto de las respuestas es correcta."], correcta: 2 },
  { enunciado: "El planificador a corto plazo", opciones: ["Rebaja el grado de multiprogramación del sistema.", "Elige procesos para pasarlos a ejecución.", "Pasa procesos de esperando a bloqueado suspendido.", "Pasa procesos de creados a ejecutando."], correcta: 1 },
  { enunciado: "Las llamadas al sistema", opciones: ["Son órdenes que tiene definidas el shell del sistema para realizar distintas funciones.", "Son funciones internas del shell del sistema y sólo éste puede utilizarlas.", "Se ejecutan en modo kernel si el usuario lo solicita.", "Siempre se ejecutan en modo kernel."], correcta: 3 },
  { enunciado: "Un hilo", opciones: ["Es un procedimiento de un proceso que tiene asignado recursos.", "Es la unidad propietaria de los recursos", "Comparte la pila de ejecución con los otros hilos.", "Ninguna de las anteriores es cierta."], correcta: 3 },
  { enunciado: "Para la programación con hilos", opciones: ["Se necesitan mecanismos de exclusión mutua para acceder a los recursos compartidos lectura/escritura.", "Se necesitan mecanismos de exclusión mutua para acceder a todos los recursos compartidos", "Se necesitan mecanismos de exclusión mutua para acceder a los recursos compartidos solo lectura.", "Pueden acceder a los recursos compartidos del proceso sin ninguna restricción."], correcta: 0 },
  { enunciado: "En un sistema multiprocesador", opciones: ["Solo pueden ejecutarse hilos del mismo proceso concurrentemente.", "Varios hilos de un mismo proceso se pueden ejecutar simultáneamente.", "Se pueden ejecutar varios hilos pero en el procesador asignado al proceso.", "Ninguna de las anteriores es correcta."], correcta: 1 },
  { enunciado: "Un proceso que entra a las 12:00, empieza a las 12:02 y termina a las 12:30", opciones: ["La utilización de la CPU es de 28 minutos.", "El tiempo de respuesta es de 2 minutos.", "El tiempo de espera es de 2 minutos.", "El tiempo de retorno es de 28 minutos."], correcta: [1, 3] }
];

const enero2022 = [
  { enunciado: "En un Sistema de memoria paginada con un tamaño de marco de página de 2KB", opciones: ["El offset máximo de una página es 2¹⁶", "El offset máximo de una página es 2¹²", "El offset máximo de una página es 2¹¹", "El offset máximo de una página es 2¹⁰"], correcta: 2 },
  { enunciado: "El repartidor (dispatcher) se encarga de:", opciones: ["Planificar los distintos trabajos", "Definir las políticas de planificación", "Realizar el cambio de contexto.", "Desbloquear los procesos esperando E/S"], correcta: 2 },
  { enunciado: "El planificador (scheduler) es la parte del sistema operativo encargada de:", opciones: ["Realizar el cambio de contexto entre los procesos.", "Determinar el orden de ejecución entre los procesos", "Mantener la tabla de procesos", "Descargar procesos cuando escasea la memoria"], correcta: 1 },
  { enunciado: "Sobre los algoritmos de planificación apropiativos:", opciones: ["Nunca fuerzan abandonar CPU si hay E/S", "Solo fuerzan si se acaba el quantum", "Son más costosos pero dan mejor servicio global", "Son más efectivas con poca memoria asignada"], correcta: 2 },
  { enunciado: "¿Cuándo puede un proceso entrar en un monitor?", opciones: ["Sólo cuando tiene definidas variables de condición.", "Sólo si el monitor está vacío.", "Debe estar vacío y sin procesos esperando en colas de condición.", "Ninguna del resto."], correcta: 2 },
  { enunciado: "El semáforo elimina la espera activa porque:", opciones: ["Se inicializa al número máximo de recursos", "wait y signal no pueden ir en bucles", "Deshabilita interrupciones en sección crítica", "Se implementa con cola de tareas en espera"], correcta: 3 },
  { enunciado: "Los monitores proporcionan exclusión mutua porque:", opciones: ["Sólo un proceso puede estar activo en el monitor", "Usan variables de condición", "No garantizan exclusión mutua", "Son procedimientos en módulo encapsulado"], correcta: 0 },
  { enunciado: "En un sistema de memoria virtual:", opciones: ["No es necesario el intercambio", "Solo se intercambian páginas suspendidas", "Nunca se carga una página de un proceso bloqueado", "Páginas pueden estar en secundaria"], correcta: 3 },
  { enunciado: "¿Cómo se detecta el acceso a una página no cargada en memoria?", opciones: ["Dirección inválida en bus", "No hay marco en memoria principal", "Gracias a los bits de control de la tabla", "Ninguna de las anteriores"], correcta: 2 },
  { enunciado: "Diferencia entre wait de semáforo y cwait de condición:", opciones: ["cwait siempre suspende, wait no siempre", "cwait no elimina espera activa", "No hay diferencia, ambas exclusión", "No hay diferencia, ambas sincronización"], correcta: 0 }
];

const enero2021 = [
  { enunciado: "En un sistema con planificación expulsiva SRTF llegan los procesos P1 (0/7), P2 (4/4), P3 (9/3). ¿Tiempo de retorno de cada uno?", opciones: ["T1=7 T2=7 T3=7", "T1=8 T2=4 T3=7", "T1=7 T2=7 T3=4", "T1=7 T2=7 T3=5"], correcta: 3 },
  { enunciado: "El repartidor (dispatcher) se encarga de:", opciones: ["Planificar los distintos trabajos", "Definir las políticas de planificación", "Realizar el cambio de contexto.", "Desbloquear procesos tras E/S"], correcta: 2 },
  { enunciado: "El planificador (scheduler) es la parte del sistema operativo encargada de:", opciones: ["Realizar el cambio de contexto", "Determinar el orden de ejecución", "Mantener la tabla de procesos", "Descargar procesos a disco"], correcta: 1 },
  { enunciado: "El cambio de contexto:", opciones: ["Lo realiza el scheduler", "Modifica la entrada en la tabla de procesos", "Siempre se origina por una interrupción", "Se produce siempre que se pasa de espera a preparado"], correcta: 2 },
  { enunciado: "¿Cuándo puede un proceso entrar en un monitor?", opciones: ["Sólo cuando tiene variables de condición", "Sólo si el monitor está vacío", "Debe estar vacío y sin procesos en colas de condición", "Ninguna de las anteriores"], correcta: 1 },
  { enunciado: "El semáforo elimina la espera activa porque:", opciones: ["Se inicializa al máximo de recursos", "wait y signal son indivisibles", "No elimina la espera activa", "Se implementa con una cola de tareas en espera"], correcta: 3 },
  { enunciado: "Los monitores proporcionan exclusión mutua porque:", opciones: ["Solo un proceso puede ejecutar un procedimiento del monitor", "Usan variables de condición", "No dan exclusión mutua, solo sincronización", "Son procedimientos encapsulados"], correcta: 0 },
  { enunciado: "El algoritmo de Peterson corresponde a:", opciones: ["Estrategia de sincronización", "Mantener grado de multiprogramación", "Evita espera activa", "Solución al problema de exclusión mutua"], correcta: 3 },
  { enunciado: "Si se usa un semáforo para sincronizar procesos:", opciones: ["Se inicializa al número de procesos", "Requiere variables de condición", "wait y signal se usan en mismo proceso", "wait y signal se usan en procesos distintos"], correcta: 3 },
  { enunciado: "Diferencia entre wait y cwait:", opciones: ["cwait siempre suspende el proceso", "cwait no elimina espera activa", "No hay diferencia, ambos dan exclusión", "No hay diferencia, ambos son sincronización"], correcta: 0 }
];


    let examenActual = [];

    function cargarPreguntas() {
      const seleccion = document.getElementById("examSelect").value;
      const form = document.getElementById("quizForm");
      form.innerHTML = ""; // Limpiar preguntas previas
    
      if (seleccion === "enero2025") {
        examenActual = enero2025;
      } else if (seleccion === "septiembre2024") {
        examenActual = septiembre2024;
      } else if (seleccion === "enero2024") {
        examenActual = enero2024;
      } 
      else if (seleccion === "septiembre2023") {
        examenActual = septiembre2023;
      }
      else if (seleccion === "enero2023") {
        examenActual = enero2023;
      } 
      else if (seleccion === "noviembre2022") {
        examenActual = enero2023;
      } 
      else if (seleccion === "enero2022") {
        examenActual = enero2022;
      }
      else if (seleccion === "enero2021") {
        examenActual = enero2021;
      }
      else if (seleccion === "todos") {
        examenActual = [...enero2025, ...septiembre2024, ...enero2024, ...septiembre2023, ...enero2023, ...enero2021, ...enero2022, ...noviembre2022];
        
        // Mezclar preguntas
        mezclarArray(examenActual);
      
        // Mezclar opciones de cada pregunta
        examenActual.forEach(p => {
          const original = [...p.opciones];
          const correcta = p.opciones[p.correcta];
      
          mezclarArray(p.opciones);
          p.correcta = p.opciones.indexOf(correcta);
        });
      }      
      else {
        examenActual = [];
      }
    
      examenActual.forEach((p, i) => {
        const div = document.createElement("div"); div.className = "question";
        const h3 = document.createElement("h3"); h3.innerText = `${i + 1}. ${p.enunciado}`; div.appendChild(h3);
        p.opciones.forEach((opt, j) => {
          const label = document.createElement("label");
          const input = document.createElement("input"); input.type = "radio"; input.name = `preg${i}`; input.value = j;
          label.appendChild(input); label.append(` ${opt}`);
          div.appendChild(label);
        });
        form.appendChild(div);
      });
    
      document.getElementById("result").style.display = "none"; // Oculta resultados si había
    }
    
    
    function corregir() {
      if (examenActual.length === 0) {
        alert("Primero selecciona un examen.");
        return;
      }
    
      let aciertos = 0;
      let salida = "<h2>Resultados:</h2><ul>";
    
      examenActual.forEach((p, i) => {
        const sel = document.querySelector(`input[name=preg${i}]:checked`);
        const contenedor = document.querySelectorAll(".question")[i];
    
        let resultadoTexto = "";
        if (sel) {
          if (parseInt(sel.value) === p.correcta) {
            aciertos++;
            resultadoTexto = `<p class="correct">✅ Correcta</p>`;
            salida += `<li class='correct'>Pregunta ${i + 1}: Correcta</li>`;
          } else {
            resultadoTexto = `<p class="incorrect">❌ Incorrecta. Respuesta correcta: <strong>${p.opciones[p.correcta]}</strong></p>`;
            salida += `<li class='incorrect'>Pregunta ${i + 1}: Incorrecta. Correcta: ${p.opciones[p.correcta]}</li>`;
          }
        } else {
          resultadoTexto = `<p class="incorrect">⚠️ Sin responder. Respuesta correcta: <strong>${p.opciones[p.correcta]}</strong></p>`;
          salida += `<li class='incorrect'>Pregunta ${i + 1}: Sin responder. Correcta: ${p.opciones[p.correcta]}</li>`;
        }
    
        // Insertar el resultado debajo de la pregunta
        const parrafoResultado = document.createElement("div");
        parrafoResultado.innerHTML = resultadoTexto;
        contenedor.appendChild(parrafoResultado);
      });
    
      salida += `<p><strong>Total: ${aciertos} de ${examenActual.length} correctas.</strong></p>`;
      const res = document.getElementById("result");
      res.innerHTML = salida;
      res.style.display = "block";
      window.scrollTo({ top: res.offsetTop, behavior: 'smooth' });
    }
    

    function mezclarArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
    
    
  </script>
</body>
</html>
